[['import os\nimport re\nfrom datetime import datetime, timedelta\n\nBASE_DIR = os.path.dirname(os.path.abspath(__file__))\nLOG_FILES = {\n    \'scanner\': \'scanner_bybit.log\',\n    \'monitor\': \'monitor_bybit.log\',\n    \'executor\': \'executor_bybit.log\',\n    \'telegram\': \'telegram_control.log\',\n    \'dashboard\': \'dashboard.log\'\n}\n\ndef parse_logs_last_24h():\n    cutoff = datetime.now() - timedelta(hours=24)\n    date_pattern = re.compile(r\'(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})\')\n    \n    resumo = {\n        \'erros_criticos\': [],\n        \'avisos\': [],\n        \'falhas_api\': [],\n        \'erros_execucao\': [],\n        \'erros_monitor\': [],\n        \'erros_telegram\': []\n    }\n\n    for nome, arquivo in LOG_FILES.items():\n        caminho = os.path.join(BASE_DIR, arquivo)\n        if not os.path.exists(caminho):\n            continue\n\n        try:\n            with open(caminho, \'r\', encoding=\'utf-8\', errors=\'ignore\') as f:\n                for linha in f:\n                    match = date_pattern.search(linha)\n                    if not match:\n                        continue\n                    \n                    data_str = match.group(1)\n                    try:\n                        data_log = datetime.strptime(data_str, \'%Y-%m-%d %H:%M:%S\')\n                    except ValueError:\n                        continue\n                    \n                    if data_log < cutoff:\n                        continue\n\n                    linha_lower = linha.lower()\n                    \n                    if \'error\' in linha_lower or \'exception\' in linha_lower or \'failed\' in linha_lower:\n                        if \'bybit get\' in linha_lower and (\'symbol\' in linha_lower or \'market\' in linha_lower):\n                            resumo[\'falhas_api\'].append((data_log, f"[{nome.upper()}] {linha.strip()}"))\n                        elif \'executor\' in nome.lower() or \'executando ordem\' in linha_lower:\n                            resumo[\'erros_execucao\'].append((data_log, f"[{nome.upper()}] {linha.strip()}"))\n                        elif \'monitor\' in nome.lower():\n                            resumo[\'erros_monitor\'].append((data_log, f"[{nome.upper()}] {linha.strip()}"))\n                        elif \'telegram\' in nome.lower():\n                            resumo[\'erros_telegram\'].append((data_log, f"[{nome.upper()}] {linha.strip()}"))\n                        elif \'float\' object cannot be interpreted as an integer\' in linha_lower:\n                            resumo[\'erros_criticos\'].append((data_log, f"[CRITICO] Erro de tipo em executor: {linha.strip()}"))\n                        else:\n                            resumo[\'erros_criticos\'].append((data_log, f"[{nome.upper()}] {linha.strip()}"))\n                    elif \'tamanho de posicao muito pequeno\' in linha_lower:\n                        resumo[\'avisos\'].append((data_log, f"[AVISO] Ordem ignorada: {linha.strip()}"))\n\n        except Exception as e:\n            print(f"Erro ao ler {arquivo}: {e}")\n\n    return resumo\n\ndef formatar_resumo(resumo):\n    print("=== ANÃLISE DE ERROS NAS ÃšLTIMAS 24H ===\\n")\n    \n    if resumo[\'erros_criticos\']:\n        print("ðŸš¨ ERROS CRÃTICOS:")\n        for data, msg in sorted(resumo[\'erros_criticos\'], key=lambda x: x[0], reverse=True)[:10]:\n            print(f"  [{data}] {msg}")\n        print()\n    \n    if resumo[\'erros_execucao\']:\n        print("ðŸ’¥ ERROS DE EXECUÃ‡ÃƒO:")\n        for data, msg in sorted(resumo[\'erros_execucao\'], key=lambda x: x[0], reverse=True)[:10]:\n            print(f"  [{data}] {msg}")\n        print()\n    \n    if resumo[\'erros_monitor\']:\n        print("ðŸ‘ï¸ ERROS DE MONITORAMENTO:")\n        for data, msg in sorted(resumo[\'erros_monitor\'], key=lambda x: x[0], reverse=True)[:10]:\n            print(f"  [{data}] {msg}")\n        print()\n    \n    if resumo[\'falhas_api\']:\n        print("ðŸ“¡ FALHAS NA API BYBIT:")\n        for data, msg in sorted(resumo[\'falhas_api\'], key=lambda x: x[0], reverse=True)[:10]:\n            print(f"  [{data}] {msg}")\n        print()\n    \n    if resumo[\'erros_telegram\']:\n        print("ðŸ“± ERROS NO TELEGRAM:")\n        for data, msg in sorted(resumo[\'erros_telegram\'], key=lambda x: x[0], reverse=True)[:5]:\n            print(f"  [{data}] {msg}")\n        print()\n    \n    if resumo[\'avisos\']:\n        print("âš ï¸ AVISOS:")\n        for data, msg in sorted(resumo[\'avisos\'], key=lambda x: x[0], reverse=True)[:10]:\n            print(f"  [{data}] {msg}")\n        print()\n\nif __name__ == \'__main__\':\n    resumo = parse_logs_last_24h()\n    formatar_resumo(resumo)']]